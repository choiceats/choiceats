<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Conduit</title>
    <link rel="//fonts.googleapis.com/css?family=Titillium+Web:700|Source+Serif+Pro:400,700|Merriweather+Sans:400,700|Source+Sans+Pro:400,300,600,700,300italic,400italic,600italic,700italic" rel="stylesheed" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/semantic.min.css">
    <link rel="stylesheet" href="./style.css">

    <script src="elm.js"></script>
  </head>
  <body id="page-body">
  <script>
    var app = Elm.Main.fullscreen(localStorage.session || null);

    app.ports.storeSession.subscribe(function(session) {
      localStorage.session = session;
    });

    window.addEventListener("storage", function(event) {
      if (event.storageArea === localStorage && event.key === "session") {
        app.ports.onSessionChange.send(event.newValue);
      }
    }, false);
  </script>
  </body>
</html>
